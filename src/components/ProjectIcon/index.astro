---
import { Image } from 'astro:assets';

import './styles.css';

interface Props {
	image: ImageMetadata;
	imageAlt: string;
}

const { image, imageAlt } = Astro.props;

// eslint-disable-next-line @typescript-eslint/no-magic-numbers
const IMAGE_WIDTHS = [128, 256, 512, 768, image.width];
---
<picture
	class="project-icon"
	itemprop="image"
	itemscope
	itemtype="https://schema.org/ImageObject"
>
	<Image
		itemprop="contentUrl"
		src={image}
		alt={imageAlt}
		loading="lazy"
		widths={IMAGE_WIDTHS}
		sizes={`(max-width: 360px) 128px, (max-width: 720px) 256px, (max-width: 1280px) 512px, (max-width: 2160px) 768px ${image.width}px`}
		quality={75}
	/>
</picture>
